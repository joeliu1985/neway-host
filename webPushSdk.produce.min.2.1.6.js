!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.MTpushInterface=e():t.MTpushInterface=e()}(self,(()=>(()=>{var t={452:function(t,e,i){var n;t.exports=(n=i(249),i(269),i(214),i(888),i(109),function(){var t=n,e=t.lib.BlockCipher,i=t.algo,s=[],o=[],r=[],a=[],c=[],u=[],d=[],h=[],l=[],f=[];!function(){for(var t=[],e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;var i=0,n=0;for(e=0;e<256;e++){var p=n^n<<1^n<<2^n<<3^n<<4;p=p>>>8^255&p^99,s[i]=p,o[p]=i;var m=t[i],g=t[m],b=t[g],w=257*t[p]^16843008*p;r[i]=w<<24|w>>>8,a[i]=w<<16|w>>>16,c[i]=w<<8|w>>>24,u[i]=w,w=16843009*b^65537*g^257*m^16843008*i,d[p]=w<<24|w>>>8,h[p]=w<<16|w>>>16,l[p]=w<<8|w>>>24,f[p]=w,i?(i=m^t[t[t[b^m]]],n^=t[t[n]]):i=n=1}}();var p=[0,1,2,4,8,16,32,64,128,27,54],m=i.AES=e.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var t=this._keyPriorReset=this._key,e=t.words,i=t.sigBytes/4,n=4*((this._nRounds=i+6)+1),o=this._keySchedule=[],r=0;r<n;r++)r<i?o[r]=e[r]:(u=o[r-1],r%i?i>6&&r%i==4&&(u=s[u>>>24]<<24|s[u>>>16&255]<<16|s[u>>>8&255]<<8|s[255&u]):(u=s[(u=u<<8|u>>>24)>>>24]<<24|s[u>>>16&255]<<16|s[u>>>8&255]<<8|s[255&u],u^=p[r/i|0]<<24),o[r]=o[r-i]^u);for(var a=this._invKeySchedule=[],c=0;c<n;c++){if(r=n-c,c%4)var u=o[r];else u=o[r-4];a[c]=c<4||r<=4?u:d[s[u>>>24]]^h[s[u>>>16&255]]^l[s[u>>>8&255]]^f[s[255&u]]}}},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,r,a,c,u,s)},decryptBlock:function(t,e){var i=t[e+1];t[e+1]=t[e+3],t[e+3]=i,this._doCryptBlock(t,e,this._invKeySchedule,d,h,l,f,o),i=t[e+1],t[e+1]=t[e+3],t[e+3]=i},_doCryptBlock:function(t,e,i,n,s,o,r,a){for(var c=this._nRounds,u=t[e]^i[0],d=t[e+1]^i[1],h=t[e+2]^i[2],l=t[e+3]^i[3],f=4,p=1;p<c;p++){var m=n[u>>>24]^s[d>>>16&255]^o[h>>>8&255]^r[255&l]^i[f++],g=n[d>>>24]^s[h>>>16&255]^o[l>>>8&255]^r[255&u]^i[f++],b=n[h>>>24]^s[l>>>16&255]^o[u>>>8&255]^r[255&d]^i[f++],w=n[l>>>24]^s[u>>>16&255]^o[d>>>8&255]^r[255&h]^i[f++];u=m,d=g,h=b,l=w}m=(a[u>>>24]<<24|a[d>>>16&255]<<16|a[h>>>8&255]<<8|a[255&l])^i[f++],g=(a[d>>>24]<<24|a[h>>>16&255]<<16|a[l>>>8&255]<<8|a[255&u])^i[f++],b=(a[h>>>24]<<24|a[l>>>16&255]<<16|a[u>>>8&255]<<8|a[255&d])^i[f++],w=(a[l>>>24]<<24|a[u>>>16&255]<<16|a[d>>>8&255]<<8|a[255&h])^i[f++],t[e]=m,t[e+1]=g,t[e+2]=b,t[e+3]=w},keySize:8});t.AES=e._createHelper(m)}(),n.AES)},109:function(t,e,i){var n;t.exports=(n=i(249),i(888),void(n.lib.Cipher||function(t){var e=n,i=e.lib,s=i.Base,o=i.WordArray,r=i.BufferedBlockAlgorithm,a=e.enc,c=(a.Utf8,a.Base64),u=e.algo.EvpKDF,d=i.Cipher=r.extend({cfg:s.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,i){this.cfg=this.cfg.extend(i),this._xformMode=t,this._key=e,this.reset()},reset:function(){r.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function t(t){return"string"==typeof t?v:b}return function(e){return{encrypt:function(i,n,s){return t(n).encrypt(e,i,n,s)},decrypt:function(i,n,s){return t(n).decrypt(e,i,n,s)}}}}()}),h=(i.StreamCipher=d.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),e.mode={}),l=i.BlockCipherMode=s.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}}),f=h.CBC=function(){var e=l.extend();function i(e,i,n){var s,o=this._iv;o?(s=o,this._iv=t):s=this._prevBlock;for(var r=0;r<n;r++)e[i+r]^=s[r]}return e.Encryptor=e.extend({processBlock:function(t,e){var n=this._cipher,s=n.blockSize;i.call(this,t,e,s),n.encryptBlock(t,e),this._prevBlock=t.slice(e,e+s)}}),e.Decryptor=e.extend({processBlock:function(t,e){var n=this._cipher,s=n.blockSize,o=t.slice(e,e+s);n.decryptBlock(t,e),i.call(this,t,e,s),this._prevBlock=o}}),e}(),p=(e.pad={}).Pkcs7={pad:function(t,e){for(var i=4*e,n=i-t.sigBytes%i,s=n<<24|n<<16|n<<8|n,r=[],a=0;a<n;a+=4)r.push(s);var c=o.create(r,n);t.concat(c)},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},m=(i.BlockCipher=d.extend({cfg:d.cfg.extend({mode:f,padding:p}),reset:function(){var t;d.reset.call(this);var e=this.cfg,i=e.iv,n=e.mode;this._xformMode==this._ENC_XFORM_MODE?t=n.createEncryptor:(t=n.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==t?this._mode.init(this,i&&i.words):(this._mode=t.call(n,this,i&&i.words),this._mode.__creator=t)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t,e=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(e.pad(this._data,this.blockSize),t=this._process(!0)):(t=this._process(!0),e.unpad(t)),t},blockSize:4}),i.CipherParams=s.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}})),g=(e.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext,i=t.salt;return(i?o.create([1398893684,1701076831]).concat(i).concat(e):e).toString(c)},parse:function(t){var e,i=c.parse(t),n=i.words;return 1398893684==n[0]&&1701076831==n[1]&&(e=o.create(n.slice(2,4)),n.splice(0,4),i.sigBytes-=16),m.create({ciphertext:i,salt:e})}},b=i.SerializableCipher=s.extend({cfg:s.extend({format:g}),encrypt:function(t,e,i,n){n=this.cfg.extend(n);var s=t.createEncryptor(i,n),o=s.finalize(e),r=s.cfg;return m.create({ciphertext:o,key:i,iv:r.iv,algorithm:t,mode:r.mode,padding:r.padding,blockSize:t.blockSize,formatter:n.format})},decrypt:function(t,e,i,n){return n=this.cfg.extend(n),e=this._parse(e,n.format),t.createDecryptor(i,n).finalize(e.ciphertext)},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}}),w=(e.kdf={}).OpenSSL={execute:function(t,e,i,n){n||(n=o.random(8));var s=u.create({keySize:e+i}).compute(t,n),r=o.create(s.words.slice(e),4*i);return s.sigBytes=4*e,m.create({key:s,iv:r,salt:n})}},v=i.PasswordBasedCipher=b.extend({cfg:b.cfg.extend({kdf:w}),encrypt:function(t,e,i,n){var s=(n=this.cfg.extend(n)).kdf.execute(i,t.keySize,t.ivSize);n.iv=s.iv;var o=b.encrypt.call(this,t,e,s.key,n);return o.mixIn(s),o},decrypt:function(t,e,i,n){n=this.cfg.extend(n),e=this._parse(e,n.format);var s=n.kdf.execute(i,t.keySize,t.ivSize,e.salt);return n.iv=s.iv,b.decrypt.call(this,t,e,s.key,n)}})}()))},249:function(t,e,i){var n;t.exports=(n=n||function(t,e){var n;if("undefined"!=typeof window&&window.crypto&&(n=window.crypto),"undefined"!=typeof self&&self.crypto&&(n=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(n=globalThis.crypto),!n&&"undefined"!=typeof window&&window.msCrypto&&(n=window.msCrypto),!n&&void 0!==i.g&&i.g.crypto&&(n=i.g.crypto),!n)try{n=i(480)}catch(t){}var s=function(){if(n){if("function"==typeof n.getRandomValues)try{return n.getRandomValues(new Uint32Array(1))[0]}catch(t){}if("function"==typeof n.randomBytes)try{return n.randomBytes(4).readInt32LE()}catch(t){}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(){function t(){}return function(e){var i;return t.prototype=e,i=new t,t.prototype=null,i}}(),r={},a=r.lib={},c=a.Base={extend:function(t){var e=o(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},u=a.WordArray=c.extend({init:function(t,i){t=this.words=t||[],this.sigBytes=i!=e?i:4*t.length},toString:function(t){return(t||h).stringify(this)},concat:function(t){var e=this.words,i=t.words,n=this.sigBytes,s=t.sigBytes;if(this.clamp(),n%4)for(var o=0;o<s;o++){var r=i[o>>>2]>>>24-o%4*8&255;e[n+o>>>2]|=r<<24-(n+o)%4*8}else for(var a=0;a<s;a+=4)e[n+a>>>2]=i[a>>>2];return this.sigBytes+=s,this},clamp:function(){var e=this.words,i=this.sigBytes;e[i>>>2]&=4294967295<<32-i%4*8,e.length=t.ceil(i/4)},clone:function(){var t=c.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var e=[],i=0;i<t;i+=4)e.push(s());return new u.init(e,t)}}),d=r.enc={},h=d.Hex={stringify:function(t){for(var e=t.words,i=t.sigBytes,n=[],s=0;s<i;s++){var o=e[s>>>2]>>>24-s%4*8&255;n.push((o>>>4).toString(16)),n.push((15&o).toString(16))}return n.join("")},parse:function(t){for(var e=t.length,i=[],n=0;n<e;n+=2)i[n>>>3]|=parseInt(t.substr(n,2),16)<<24-n%8*4;return new u.init(i,e/2)}},l=d.Latin1={stringify:function(t){for(var e=t.words,i=t.sigBytes,n=[],s=0;s<i;s++){var o=e[s>>>2]>>>24-s%4*8&255;n.push(String.fromCharCode(o))}return n.join("")},parse:function(t){for(var e=t.length,i=[],n=0;n<e;n++)i[n>>>2]|=(255&t.charCodeAt(n))<<24-n%4*8;return new u.init(i,e)}},f=d.Utf8={stringify:function(t){try{return decodeURIComponent(escape(l.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return l.parse(unescape(encodeURIComponent(t)))}},p=a.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new u.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=f.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var i,n=this._data,s=n.words,o=n.sigBytes,r=this.blockSize,a=o/(4*r),c=(a=e?t.ceil(a):t.max((0|a)-this._minBufferSize,0))*r,d=t.min(4*c,o);if(c){for(var h=0;h<c;h+=r)this._doProcessBlock(s,h);i=s.splice(0,c),n.sigBytes-=d}return new u.init(i,d)},clone:function(){var t=c.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),m=(a.Hasher=p.extend({cfg:c.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,i){return new t.init(i).finalize(e)}},_createHmacHelper:function(t){return function(e,i){return new m.HMAC.init(t,i).finalize(e)}}}),r.algo={});return r}(Math),n)},269:function(t,e,i){var n;t.exports=(n=i(249),function(){var t=n,e=t.lib.WordArray;function i(t,i,n){for(var s=[],o=0,r=0;r<i;r++)if(r%4){var a=n[t.charCodeAt(r-1)]<<r%4*2|n[t.charCodeAt(r)]>>>6-r%4*2;s[o>>>2]|=a<<24-o%4*8,o++}return e.create(s,o)}t.enc.Base64={stringify:function(t){var e=t.words,i=t.sigBytes,n=this._map;t.clamp();for(var s=[],o=0;o<i;o+=3)for(var r=(e[o>>>2]>>>24-o%4*8&255)<<16|(e[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|e[o+2>>>2]>>>24-(o+2)%4*8&255,a=0;a<4&&o+.75*a<i;a++)s.push(n.charAt(r>>>6*(3-a)&63));var c=n.charAt(64);if(c)for(;s.length%4;)s.push(c);return s.join("")},parse:function(t){var e=t.length,n=this._map,s=this._reverseMap;if(!s){s=this._reverseMap=[];for(var o=0;o<n.length;o++)s[n.charCodeAt(o)]=o}var r=n.charAt(64);if(r){var a=t.indexOf(r);-1!==a&&(e=a)}return i(t,e,s)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),n.enc.Base64)},743:function(t,e,i){var n;t.exports=(n=i(249),n.enc.Utf8)},888:function(t,e,i){var n,s,o,r,a,c,u,d;t.exports=(d=i(249),i(783),i(824),s=(n=d).lib,o=s.Base,r=s.WordArray,a=n.algo,c=a.MD5,u=a.EvpKDF=o.extend({cfg:o.extend({keySize:4,hasher:c,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var i,n=this.cfg,s=n.hasher.create(),o=r.create(),a=o.words,c=n.keySize,u=n.iterations;a.length<c;){i&&s.update(i),i=s.update(t).finalize(e),s.reset();for(var d=1;d<u;d++)i=s.finalize(i),s.reset();o.concat(i)}return o.sigBytes=4*c,o}}),n.EvpKDF=function(t,e,i){return u.create(i).compute(t,e)},d.EvpKDF)},824:function(t,e,i){var n,s,o,r;t.exports=(n=i(249),o=(s=n).lib.Base,r=s.enc.Utf8,void(s.algo.HMAC=o.extend({init:function(t,e){t=this._hasher=new t.init,"string"==typeof e&&(e=r.parse(e));var i=t.blockSize,n=4*i;e.sigBytes>n&&(e=t.finalize(e)),e.clamp();for(var s=this._oKey=e.clone(),o=this._iKey=e.clone(),a=s.words,c=o.words,u=0;u<i;u++)a[u]^=1549556828,c[u]^=909522486;s.sigBytes=o.sigBytes=n,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher,i=e.finalize(t);return e.reset(),e.finalize(this._oKey.clone().concat(i))}})))},214:function(t,e,i){var n;t.exports=(n=i(249),function(t){var e=n,i=e.lib,s=i.WordArray,o=i.Hasher,r=e.algo,a=[];!function(){for(var e=0;e<64;e++)a[e]=4294967296*t.abs(t.sin(e+1))|0}();var c=r.MD5=o.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,e){for(var i=0;i<16;i++){var n=e+i,s=t[n];t[n]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}var o=this._hash.words,r=t[e+0],c=t[e+1],f=t[e+2],p=t[e+3],m=t[e+4],g=t[e+5],b=t[e+6],w=t[e+7],v=t[e+8],_=t[e+9],y=t[e+10],C=t[e+11],S=t[e+12],k=t[e+13],I=t[e+14],T=t[e+15],E=o[0],x=o[1],N=o[2],A=o[3];E=u(E,x,N,A,r,7,a[0]),A=u(A,E,x,N,c,12,a[1]),N=u(N,A,E,x,f,17,a[2]),x=u(x,N,A,E,p,22,a[3]),E=u(E,x,N,A,m,7,a[4]),A=u(A,E,x,N,g,12,a[5]),N=u(N,A,E,x,b,17,a[6]),x=u(x,N,A,E,w,22,a[7]),E=u(E,x,N,A,v,7,a[8]),A=u(A,E,x,N,_,12,a[9]),N=u(N,A,E,x,y,17,a[10]),x=u(x,N,A,E,C,22,a[11]),E=u(E,x,N,A,S,7,a[12]),A=u(A,E,x,N,k,12,a[13]),N=u(N,A,E,x,I,17,a[14]),E=d(E,x=u(x,N,A,E,T,22,a[15]),N,A,c,5,a[16]),A=d(A,E,x,N,b,9,a[17]),N=d(N,A,E,x,C,14,a[18]),x=d(x,N,A,E,r,20,a[19]),E=d(E,x,N,A,g,5,a[20]),A=d(A,E,x,N,y,9,a[21]),N=d(N,A,E,x,T,14,a[22]),x=d(x,N,A,E,m,20,a[23]),E=d(E,x,N,A,_,5,a[24]),A=d(A,E,x,N,I,9,a[25]),N=d(N,A,E,x,p,14,a[26]),x=d(x,N,A,E,v,20,a[27]),E=d(E,x,N,A,k,5,a[28]),A=d(A,E,x,N,f,9,a[29]),N=d(N,A,E,x,w,14,a[30]),E=h(E,x=d(x,N,A,E,S,20,a[31]),N,A,g,4,a[32]),A=h(A,E,x,N,v,11,a[33]),N=h(N,A,E,x,C,16,a[34]),x=h(x,N,A,E,I,23,a[35]),E=h(E,x,N,A,c,4,a[36]),A=h(A,E,x,N,m,11,a[37]),N=h(N,A,E,x,w,16,a[38]),x=h(x,N,A,E,y,23,a[39]),E=h(E,x,N,A,k,4,a[40]),A=h(A,E,x,N,r,11,a[41]),N=h(N,A,E,x,p,16,a[42]),x=h(x,N,A,E,b,23,a[43]),E=h(E,x,N,A,_,4,a[44]),A=h(A,E,x,N,S,11,a[45]),N=h(N,A,E,x,T,16,a[46]),E=l(E,x=h(x,N,A,E,f,23,a[47]),N,A,r,6,a[48]),A=l(A,E,x,N,w,10,a[49]),N=l(N,A,E,x,I,15,a[50]),x=l(x,N,A,E,g,21,a[51]),E=l(E,x,N,A,S,6,a[52]),A=l(A,E,x,N,p,10,a[53]),N=l(N,A,E,x,y,15,a[54]),x=l(x,N,A,E,c,21,a[55]),E=l(E,x,N,A,v,6,a[56]),A=l(A,E,x,N,T,10,a[57]),N=l(N,A,E,x,b,15,a[58]),x=l(x,N,A,E,k,21,a[59]),E=l(E,x,N,A,m,6,a[60]),A=l(A,E,x,N,C,10,a[61]),N=l(N,A,E,x,f,15,a[62]),x=l(x,N,A,E,_,21,a[63]),o[0]=o[0]+E|0,o[1]=o[1]+x|0,o[2]=o[2]+N|0,o[3]=o[3]+A|0},_doFinalize:function(){var e=this._data,i=e.words,n=8*this._nDataBytes,s=8*e.sigBytes;i[s>>>5]|=128<<24-s%32;var o=t.floor(n/4294967296),r=n;i[15+(s+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),i[14+(s+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),e.sigBytes=4*(i.length+1),this._process();for(var a=this._hash,c=a.words,u=0;u<4;u++){var d=c[u];c[u]=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8)}return a},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});function u(t,e,i,n,s,o,r){var a=t+(e&i|~e&n)+s+r;return(a<<o|a>>>32-o)+e}function d(t,e,i,n,s,o,r){var a=t+(e&n|i&~n)+s+r;return(a<<o|a>>>32-o)+e}function h(t,e,i,n,s,o,r){var a=t+(e^i^n)+s+r;return(a<<o|a>>>32-o)+e}function l(t,e,i,n,s,o,r){var a=t+(i^(e|~n))+s+r;return(a<<o|a>>>32-o)+e}e.MD5=o._createHelper(c),e.HmacMD5=o._createHmacHelper(c)}(Math),n.MD5)},783:function(t,e,i){var n,s,o,r,a,c,u,d;t.exports=(d=i(249),s=(n=d).lib,o=s.WordArray,r=s.Hasher,a=n.algo,c=[],u=a.SHA1=r.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var i=this._hash.words,n=i[0],s=i[1],o=i[2],r=i[3],a=i[4],u=0;u<80;u++){if(u<16)c[u]=0|t[e+u];else{var d=c[u-3]^c[u-8]^c[u-14]^c[u-16];c[u]=d<<1|d>>>31}var h=(n<<5|n>>>27)+a+c[u];h+=u<20?1518500249+(s&o|~s&r):u<40?1859775393+(s^o^r):u<60?(s&o|s&r|o&r)-1894007588:(s^o^r)-899497514,a=r,r=o,o=s<<30|s>>>2,s=n,n=h}i[0]=i[0]+n|0,i[1]=i[1]+s|0,i[2]=i[2]+o|0,i[3]=i[3]+r|0,i[4]=i[4]+a|0},_doFinalize:function(){var t=this._data,e=t.words,i=8*this._nDataBytes,n=8*t.sigBytes;return e[n>>>5]|=128<<24-n%32,e[14+(n+64>>>9<<4)]=Math.floor(i/4294967296),e[15+(n+64>>>9<<4)]=i,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=r.clone.call(this);return t._hash=this._hash.clone(),t}}),n.SHA1=r._createHelper(u),n.HmacSHA1=r._createHmacHelper(u),d.SHA1)},238:function(t,e,i){var n;!function(s,o){"use strict";var r="function",a="undefined",c="object",u="string",d="model",h="name",l="type",f="vendor",p="version",m="architecture",g="console",b="mobile",w="tablet",v="smarttv",_="wearable",y="embedded",C="Amazon",S="Apple",k="ASUS",I="BlackBerry",T="Firefox",E="Google",x="Huawei",N="LG",A="Microsoft",O="Motorola",M="Opera",D="Samsung",R="Sharp",B="Sony",P="Xiaomi",U="Zebra",z="Facebook",F=function(t){for(var e={},i=0;i<t.length;i++)e[t[i].toUpperCase()]=t[i];return e},W=function(t,e){return typeof t===u&&-1!==H(e).indexOf(H(t))},H=function(t){return t.toLowerCase()},j=function(t,e){if(typeof t===u)return t=t.replace(/^\s\s*/,"").replace(/\s\s*$/,""),typeof e===a?t:t.substring(0,350)},L=function(t,e){for(var i,n,s,a,u,d,h=0;h<e.length&&!u;){var l=e[h],f=e[h+1];for(i=n=0;i<l.length&&!u;)if(u=l[i++].exec(t))for(s=0;s<f.length;s++)d=u[++n],typeof(a=f[s])===c&&a.length>0?2===a.length?typeof a[1]==r?this[a[0]]=a[1].call(this,d):this[a[0]]=a[1]:3===a.length?typeof a[1]!==r||a[1].exec&&a[1].test?this[a[0]]=d?d.replace(a[1],a[2]):o:this[a[0]]=d?a[1].call(this,d,a[2]):o:4===a.length&&(this[a[0]]=d?a[3].call(this,d.replace(a[1],a[2])):o):this[a]=d||o;h+=2}},V=function(t,e){for(var i in e)if(typeof e[i]===c&&e[i].length>0){for(var n=0;n<e[i].length;n++)if(W(e[i][n],t))return"?"===i?o:i}else if(W(e[i],t))return"?"===i?o:i;return t},G={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},q={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[p,[h,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[p,[h,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[h,p],[/opios[\/ ]+([\w\.]+)/i],[p,[h,"Opera Mini"]],[/\bopr\/([\w\.]+)/i],[p,[h,M]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[h,p],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[p,[h,"UCBrowser"]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[p,[h,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[p,[h,"WeChat"]],[/konqueror\/([\w\.]+)/i],[p,[h,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[p,[h,"IE"]],[/yabrowser\/([\w\.]+)/i],[p,[h,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[h,/(.+)/,"$1 Secure Browser"],p],[/\bfocus\/([\w\.]+)/i],[p,[h,"Firefox Focus"]],[/\bopt\/([\w\.]+)/i],[p,[h,"Opera Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[p,[h,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[p,[h,"Dolphin"]],[/coast\/([\w\.]+)/i],[p,[h,"Opera Coast"]],[/miuibrowser\/([\w\.]+)/i],[p,[h,"MIUI Browser"]],[/fxios\/([-\w\.]+)/i],[p,[h,T]],[/\bqihu|(qi?ho?o?|360)browser/i],[[h,"360 Browser"]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[h,/(.+)/,"$1 Browser"],p],[/(comodo_dragon)\/([\w\.]+)/i],[[h,/_/g," "],p],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[h,p],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[h],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[h,z],p],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[h,p],[/\bgsa\/([\w\.]+) .*safari\//i],[p,[h,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[p,[h,"Chrome Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[h,"Chrome WebView"],p],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[p,[h,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[h,p],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[p,[h,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[p,h],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[h,[p,V,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[h,p],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[h,"Netscape"],p],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[p,[h,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[h,p]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[m,"amd64"]],[/(ia32(?=;))/i],[[m,H]],[/((?:i[346]|x)86)[;\)]/i],[[m,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[m,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[m,"armhf"]],[/windows (ce|mobile); ppc;/i],[[m,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[m,/ower/,"",H]],[/(sun4\w)[;\)]/i],[[m,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[m,H]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[d,[f,D],[l,w]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[d,[f,D],[l,b]],[/\((ip(?:hone|od)[\w ]*);/i],[d,[f,S],[l,b]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[d,[f,S],[l,w]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[d,[f,x],[l,w]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[d,[f,x],[l,b]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[d,/_/g," "],[f,P],[l,b]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[d,/_/g," "],[f,P],[l,w]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[d,[f,"OPPO"],[l,b]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[d,[f,"Vivo"],[l,b]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[d,[f,"Realme"],[l,b]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[d,[f,O],[l,b]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[d,[f,O],[l,w]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[d,[f,N],[l,w]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[d,[f,N],[l,b]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[d,[f,"Lenovo"],[l,w]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[d,/_/g," "],[f,"Nokia"],[l,b]],[/(pixel c)\b/i],[d,[f,E],[l,w]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[d,[f,E],[l,b]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[d,[f,B],[l,b]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[d,"Xperia Tablet"],[f,B],[l,w]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[d,[f,"OnePlus"],[l,b]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[d,[f,C],[l,w]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[d,/(.+)/g,"Fire Phone $1"],[f,C],[l,b]],[/(playbook);[-\w\),; ]+(rim)/i],[d,f,[l,w]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[d,[f,I],[l,b]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[d,[f,k],[l,w]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[d,[f,k],[l,b]],[/(nexus 9)/i],[d,[f,"HTC"],[l,w]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i],[f,[d,/_/g," "],[l,b]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[d,[f,"Acer"],[l,w]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[d,[f,"Meizu"],[l,b]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[d,[f,R],[l,b]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[f,d,[l,b]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[f,d,[l,w]],[/(surface duo)/i],[d,[f,A],[l,w]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[d,[f,"Fairphone"],[l,b]],[/(u304aa)/i],[d,[f,"AT&T"],[l,b]],[/\bsie-(\w*)/i],[d,[f,"Siemens"],[l,b]],[/\b(rct\w+) b/i],[d,[f,"RCA"],[l,w]],[/\b(venue[\d ]{2,7}) b/i],[d,[f,"Dell"],[l,w]],[/\b(q(?:mv|ta)\w+) b/i],[d,[f,"Verizon"],[l,w]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[d,[f,"Barnes & Noble"],[l,w]],[/\b(tm\d{3}\w+) b/i],[d,[f,"NuVision"],[l,w]],[/\b(k88) b/i],[d,[f,"ZTE"],[l,w]],[/\b(nx\d{3}j) b/i],[d,[f,"ZTE"],[l,b]],[/\b(gen\d{3}) b.+49h/i],[d,[f,"Swiss"],[l,b]],[/\b(zur\d{3}) b/i],[d,[f,"Swiss"],[l,w]],[/\b((zeki)?tb.*\b) b/i],[d,[f,"Zeki"],[l,w]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[f,"Dragon Touch"],d,[l,w]],[/\b(ns-?\w{0,9}) b/i],[d,[f,"Insignia"],[l,w]],[/\b((nxa|next)-?\w{0,9}) b/i],[d,[f,"NextBook"],[l,w]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[f,"Voice"],d,[l,b]],[/\b(lvtel\-)?(v1[12]) b/i],[[f,"LvTel"],d,[l,b]],[/\b(ph-1) /i],[d,[f,"Essential"],[l,b]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[d,[f,"Envizen"],[l,w]],[/\b(trio[-\w\. ]+) b/i],[d,[f,"MachSpeed"],[l,w]],[/\btu_(1491) b/i],[d,[f,"Rotor"],[l,w]],[/(shield[\w ]+) b/i],[d,[f,"Nvidia"],[l,w]],[/(sprint) (\w+)/i],[f,d,[l,b]],[/(kin\.[onetw]{3})/i],[[d,/\./g," "],[f,A],[l,b]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[d,[f,U],[l,w]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[d,[f,U],[l,b]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[f,d,[l,g]],[/droid.+; (shield) bui/i],[d,[f,"Nvidia"],[l,g]],[/(playstation [345portablevi]+)/i],[d,[f,B],[l,g]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[d,[f,A],[l,g]],[/smart-tv.+(samsung)/i],[f,[l,v]],[/hbbtv.+maple;(\d+)/i],[[d,/^/,"SmartTV"],[f,D],[l,v]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[f,N],[l,v]],[/(apple) ?tv/i],[f,[d,"Apple TV"],[l,v]],[/crkey/i],[[d,"Chromecast"],[f,E],[l,v]],[/droid.+aft(\w)( bui|\))/i],[d,[f,C],[l,v]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[d,[f,R],[l,v]],[/(bravia[\w ]+)( bui|\))/i],[d,[f,B],[l,v]],[/(mitv-\w{5}) bui/i],[d,[f,P],[l,v]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[f,j],[d,j],[l,v]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[l,v]],[/((pebble))app/i],[f,d,[l,_]],[/droid.+; (glass) \d/i],[d,[f,E],[l,_]],[/droid.+; (wt63?0{2,3})\)/i],[d,[f,U],[l,_]],[/(quest( 2)?)/i],[d,[f,z],[l,_]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[f,[l,y]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[d,[l,b]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[d,[l,w]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[l,w]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[l,b]],[/(android[-\w\. ]{0,9});.+buil/i],[d,[f,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[p,[h,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[p,[h,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[h,p],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[p,h]],os:[[/microsoft (windows) (vista|xp)/i],[h,p],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[h,[p,V,G]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[h,"Windows"],[p,V,G]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[p,/_/g,"."],[h,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[h,"Mac OS"],[p,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[p,h],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[h,p],[/\(bb(10);/i],[p,[h,I]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[p,[h,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[p,[h,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[p,[h,"webOS"]],[/crkey\/([\d\.]+)/i],[p,[h,"Chromecast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[h,"Chromium OS"],p],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[h,p],[/(sunos) ?([\w\.\d]*)/i],[[h,"Solaris"],p],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[h,p]]},K=function(t,e){if(typeof t===c&&(e=t,t=o),!(this instanceof K))return new K(t,e).getResult();var i=t||(typeof s!==a&&s.navigator&&s.navigator.userAgent?s.navigator.userAgent:""),n=e?function(t,e){var i={};for(var n in t)e[n]&&e[n].length%2==0?i[n]=e[n].concat(t[n]):i[n]=t[n];return i}(q,e):q;return this.getBrowser=function(){var t,e={};return e.name=o,e.version=o,L.call(e,i,n.browser),e.major=typeof(t=e.version)===u?t.replace(/[^\d\.]/g,"").split(".")[0]:o,e},this.getCPU=function(){var t={};return t.architecture=o,L.call(t,i,n.cpu),t},this.getDevice=function(){var t={};return t.vendor=o,t.model=o,t.type=o,L.call(t,i,n.device),t},this.getEngine=function(){var t={};return t.name=o,t.version=o,L.call(t,i,n.engine),t},this.getOS=function(){var t={};return t.name=o,t.version=o,L.call(t,i,n.os),t},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return i},this.setUA=function(t){return i=typeof t===u&&t.length>350?j(t,350):t,this},this.setUA(i),this};K.VERSION="1.0.32",K.BROWSER=F([h,p,"major"]),K.CPU=F([m]),K.DEVICE=F([d,f,l,g,b,v,w,_,y]),K.ENGINE=K.OS=F([h,p]),typeof e!==a?(t.exports&&(e=t.exports=K),e.UAParser=K):i.amdO?(n=function(){return K}.call(e,i,e,t))===o||(t.exports=n):typeof s!==a&&(s.UAParser=K);var J=typeof s!==a&&(s.jQuery||s.Zepto);if(J&&!J.ua){var $=new K;J.ua=$.getResult(),J.ua.get=function(){return $.getUA()},J.ua.set=function(t){$.setUA(t);var e=$.getResult();for(var i in e)J.ua[i]=e[i]}}}("object"==typeof window?window:this)},480:()=>{}},e={};function i(n){var s=e[n];if(void 0!==s)return s.exports;var o=e[n]={exports:{}};return t[n].call(o.exports,o,o.exports,i),o.exports}i.amdO={},i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var n={};return(()=>{"use strict";function t(t=(()=>{}),e){null!=window.PushManager||null!=navigator.serviceWorker?"serviceWorker"in navigator?navigator.serviceWorker.register(e||"/sw.produce.min.2.1.6.js").then((function(e){const i=e.installing;i?i.addEventListener("statechange",(function(i){var n;"activated"===(null===(n=i.target)||void 0===n?void 0:n.state)&&t(!0,e)})):t(!0,e)})).catch((function(e){t(!1,e)})):t(!1,"serviceWorker 不支持http"):t(!1,"浏览器不支持订阅推送")}i.d(n,{default:()=>Nt});var e=i(214),s=i.n(e),o=i(269),r=i.n(o),a=i(743),c=i.n(a),u=i(783),d=i.n(u),h=i(452),l=i.n(h);function f(t){return function(t){const e=t.length,i=new Uint8Array(e);for(let n=0,s=e;n<s;++n)i[n]=t.charCodeAt(n);return i}(function(t,e=!1){return e?atob(t):c().stringify(r().parse(t))}((t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),!0))}function p(t){return g((e=t,String.fromCharCode.apply(null,Array.from(new Uint8Array(e)))),!0);var e}function m(t,e){var i,n;"object"==typeof e&&(e=JSON.parse(JSON.stringify(e))),null===(n=null===(i=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===i?void 0:i.controller)||void 0===n||n.postMessage({code:t,msg:e})}function g(t,e=!1){return"string"!=typeof t&&(t=JSON.stringify(t)),e?btoa(t):r().stringify(c().parse(t))}function b(t){return c().parse("string"!=typeof t?JSON.stringify(t):t)}function w(t){return d()(t).toString()}function v(t,e,i){i=i||"";const n=function(){let t="";for(let e=0;e<16;e++)t+=Math.floor(16*Math.random()).toString(16);return t}(),o=function(t,e,i="iop203040506aPk!"){return l().encrypt("string"==typeof t?r().parse(t):t,b(e),{iv:b(i)})}(g(i),n).ciphertext;var a,c;return{authorization:g(t+":"+w(t+(a=e,s()(a).toString())+w(o))+":"+n),body:(c=o,f(r().stringify(c))).buffer}}const _={cache:"no-cache",headers:{},redirect:"follow",mode:"cors"};function y(t,e="POST",i,n,s="json"){var o;const r=n||{};const a=Object.assign(_,{method:e});Object.keys(_.headers||{}).length>0&&(a.headers=_.headers);const c=Object.assign(a,r);if(c.method=null===(o=c.method)||void 0===o?void 0:o.toUpperCase(),"GET"===c.method){if(i){let e="";const n=/([?&])_=[^&]*/,s=/\?/;"object"==typeof i&&(e=function(t){let e="";for(const i in t)t.hasOwnProperty(i)&&(e+=i+"="+encodeURIComponent(t[i])+"&");return e.slice(0,-1)}(i)),t=n.test(t)?t.replace(n,"$1"+e):t+(s.test(t)?"&":"?")+e}}else[FormData,ArrayBuffer,Blob].filter((t=>i instanceof t)).length>0?c.body=i:(c.headers=Object.assign({"Content-Type":"application/json"},c.headers),i&&(c.body="string"==typeof i?i:JSON.stringify(i)));return fetch(t,c).then((t=>{const{status:e}=t;if(e>=200&&e<400){let e;switch(s){case"json":e=new Promise((e=>{t.text().then((t=>{try{e(JSON.parse(t))}catch(i){e(t)}}))}));break;case"text":e=t.text();break;case"blob":e=t.blob();break;case"arraybuffer":e=t.arrayBuffer();break;default:e=t.json()}return e}return Promise.reject(t)})).catch((t=>Promise.reject(t)))}const C={get:(t,e,i,n)=>y(t,"GET",e,i,n),post:(t,e,i,n)=>y(t,"POST",e,i,n),put:(t,e,i,n)=>y(t,"PUT",e,i,n),delete:(t,e,i,n)=>y(t,"DELETE",e,i,n),fetch:y,defaults:_},S={uid:"",passwd:""};function k(t,e){return S.uid=t,S.passwd=e,S}function I(t,e,i){if(S.uid&&S.passwd){const n=v(S.uid,S.passwd,i);return C[e](t,n.body,{headers:{Authorization:"Basic "+n.authorization}})}return Promise.reject("uid 或 passwd 为空")}const T=(t,e)=>I(t,"post",e),E="https://conn.webpush.theengagelab.com/v2/",x={subscribeSuccess:E+"subscribe",auth:"https://conn.webpush.theengagelab.com/v1/auth",option:E+"notification_subscribe",tagalias:E+"webdevices",unsubscribe:E+"unsubscribe",safariSubscribe:E+"safari/subscribe"};function N(){var t;const e=(null===(t=mt.data)||void 0===t?void 0:t.website_push_id)||"web.cn.jiguang";return{data:window.safari.pushNotification.permission(e),id:e}}function A(t,e){T(t,{endpoint:e.endpoint,keys:{p256dh:p(e.getKey("p256dh")),auth:p(e.getKey("auth"))}})}const O={SDK_VERSION:"2.1.6",LOG_TAG_PREFIX:"[MTush-P]",REQUEST:{WS_URL:"ws://"+"https://conn.webpush.theengagelab.com".split("//")[1],WS_SUPPORT:!0,WS_HEART_BEAT:5e4,WS_RECONNECT_PERIOD:1e4,WS_RESP_TIMEOUT:3e4,WS_RETRY_TIMES:3,POLLING_URL:"",POLLING_SUPPORT:!1,POLLING_TIME_OUT:15e3},CMD:{INIT:"init",HEART_BEAT:"heartbeat",MESSAGE_RECIVER:"msgrecv",PUSH:"push"},EVENT:{OPEN:"open",MESSAGE:"message",SEND:"send",DISCONNECT:"disconnect",NOT_SUPPORT:"not_supoort"}};var M;function D(t){return"string"!=typeof t||(!t||0==t.length)}function R(){let t=!0;if(window.navigator){if(t=window.navigator.onLine,"boolean"==typeof t)return t;t=!0}return t}!function(t){let e=!1;const i=O.LOG_TAG_PREFIX;t.setDebugMode=function(n){t.d(i,`setDebugMode:${n}`),e=n},t.d=function(t,e){},t.dd=function(t,i){e&&window.console},t.ww=function(t,e){window.console},t.ee=function(t,e){window.console}}(M||(M={}));const B=0,P=1e3,U={INITING:1001,CONFIG_INVALID:1002,INIT_FAILED:1003,INIT_TIME_OUT:1004,NETWORK_ERROR:1005,NOT_SUPPORT:1006};function z(t){let e="";switch(t){case B:e="success";break;case P:e="unknown error";break;case U.INITING:e="initing , please try again later";break;case U.CONFIG_INVALID:e="invalid config";break;case U.INIT_FAILED:e="init failed";break;case U.INIT_TIME_OUT:e="init timeout";break;case U.NETWORK_ERROR:e="network error"}return e}function F(t,e){return{code:t,message:z(t),content:e}}class W{constructor(t){this.success=t.success,this.fail=t.fail}onSuccess(t){this.success&&"function"==typeof this.success&&this.success(t)}onFail(t){this.fail&&"function"==typeof this.fail&&this.fail(t)}}var H;!function(t){t[t.Initial=0]="Initial",t[t.Connecting=1]="Connecting",t[t.Connected=2]="Connected",t[t.Closing=3]="Closing",t[t.Closed=4]="Closed"}(H||(H={}));class j extends class{constructor(){this.sConnectionState=H.Initial}getConnectState(){return this.sConnectionState}}{constructor(t){super(),this.mUrl=t}connect(){M.d("WebSocketConnection",`${location.hostname} try to connect websocket:${this.mUrl}`),this.mWebSocket=new WebSocket(this.mUrl),this.mWebSocket.onopen=this.onOpen.bind(this),this.mWebSocket.onclose=this.onClose.bind(this),this.mWebSocket.onmessage=this.onMessage.bind(this)}disconnect(){this.mWebSocket.close()}onOpen(t){this.onopen(t)}onMessage(t){this.onmessage(t)}onClose(t){this.onclose(t)}sendMessage(t){this.mWebSocket.send(t)}getConnectState(){if(this.mWebSocket)switch(this.mWebSocket.readyState){case WebSocket.CLOSED:this.sConnectionState=H.Closed;break;case WebSocket.CLOSING:this.sConnectionState=H.Closing;break;case WebSocket.CONNECTING:this.sConnectionState=H.Connecting;break;case WebSocket.OPEN:this.sConnectionState=H.Connected}return this.sConnectionState}}const L="ConnectionController";class V{constructor(t=""){this.mAutoDiscon=!0,this.mDataCache="",this.url="",this._onOpen=this._onOpen.bind(this),this._onMessage=this._onMessage.bind(this),this._onClose=this._onClose.bind(this),this.sendMessage=this.sendMessage.bind(this),this.setupConnection=this.setupConnection.bind(this),this.url=t}setupConnection(){O.REQUEST.WS_SUPPORT&&"undefined"!=typeof WebSocket?(this.mConnection=new j(this.url||O.REQUEST.WS_URL),this.mConnection.onopen=this._onOpen,this.mConnection.onmessage=this._onMessage,this.mConnection.onclose=this._onClose,this.mAutoDiscon=!0,M.dd(L,"start connecting"),this.mConnection.connect()):this.onEvent({name:O.EVENT.NOT_SUPPORT})}_isConnect(){return this.mConnection&&(this.mConnection.getConnectState()===H.Connected||this.mConnection.getConnectState()===H.Connecting)}_onOpen(t){M.dd(L,"connection is opened"),this._sendEvent(O.EVENT.OPEN,t.event),this.sendMessage(this.mDataCache)}_onMessage(t){M.d(L,"connection is receive message"),this._sendEvent(O.EVENT.MESSAGE,t.data)}_onClose(t){M.dd(L,"connection close "+(this.mAutoDiscon?"auto":"manually")),this.mAutoDiscon&&this._scheduleReConnect(),this._sendEvent(O.EVENT.DISCONNECT,t)}_sendEvent(t,e){this.onEvent&&this.onEvent({name:t,data:e})}sendMessage(t){D(t)||(this.mConnection.getConnectState()===H.Connected?(this.mConnection.sendMessage(t),this.mDataCache="",this._sendEvent(O.EVENT.SEND,t)):this.mDataCache=t)}_scheduleReConnect(){var t;(t=O.REQUEST.WS_RECONNECT_PERIOD,new Promise((e=>setTimeout(e,t)))).then((()=>{this.mAutoDiscon&&(R()?(M.dd(L,"do reconnect"),this.setupConnection()):this._scheduleReConnect())}))}disconnect(){M.d(L,"disconnect"),this.mAutoDiscon=!1,this._isConnect()&&this.mConnection.disconnect()}reConnect(){M.d(L,"reconnect"),this.mAutoDiscon=!0,this._isConnect()?this.mConnection.disconnect():this.setupConnection()}}class G{constructor(t){this.mInitConfig=t}setCmd(t){return this.mCmd=t,this}setSid(t){return this.mSid=t,this}setUserInfo(t){return this.mUserInfo=t,this}setPushMsgArray(t){return this.mMsgArr=t,this}build(){let t;switch(this.mCmd){case O.CMD.INIT:t=this.mInitConfig.auth;break;case O.CMD.HEART_BEAT:t={r:this.mUserInfo.regid,u:this.mInitConfig.auth.is_temporary};break;case O.CMD.MESSAGE_RECIVER:t={r:this.mUserInfo.regid,m:this.mMsgArr.map((t=>t.msg_id))}}let e=0;this.mSid?e=this.mSid+2:(e=G.sid,G.sid>1e8?G.sid=0:G.sid=G.sid+4);return{cmd:this.mCmd,sid:e,time:Math.round(Date.now()/1e3),body:t?JSON.stringify(t):""}}}G.sid=0;const q="Channel";class K{constructor(){this.mDataCache={},this.mMsgChache={}}init(t){this.mInitConfig=t,this.mConnectionController||(this.mConnectionController=new V(t.webSocketUrl),this.mConnectionController.onEvent=this.onEvent.bind(this)),this.mConnectionController.setupConnection()}onEvent(t){if(M.d(q,"onEvent:"+t.name),t.name==O.EVENT.DISCONNECT){const t=this,e=Object.keys(t.mDataCache);e.length>0&&e.forEach((e=>{const i=t.mDataCache[e];i&&(i.cleanRespTimeout(),delete t.mDataCache[e])}))}if(t.name==O.EVENT.MESSAGE){const e=JSON.parse(t.data),i=e.cmd;M.dd(q,`---<- cmd:${i}, data:${t.data}`),i==O.CMD.HEART_BEAT&&(e.body=JSON.stringify({code:0}));const n=JSON.parse(e.body);if(i==O.CMD.PUSH){const t=this._filterPushArr(e.sid,n.d);if(!(t.length>0))return;e.body=t}const s=this.mDataCache[e.sid+""];s&&(s.cleanRespTimeout(),delete this.mDataCache[e.sid+""],0!==n.code?s.fail&&s.fail(n):s.hook?s.hook(e,s.success):s.success&&s.success(n)),t.data=e}this.onevent(t)}_filterPushArr(t,e){if(!e)return[];const i=e.map((t=>JSON.parse(t)));this.send(O.CMD.MESSAGE_RECIVER,new G(this.mInitConfig).setCmd(O.CMD.MESSAGE_RECIVER).setSid(t).setUserInfo(this.mUserInfo).setPushMsgArray(i).build());const n=i.map((t=>t.msg_id)),s=this.mMsgChache[this.mUserInfo.regid];let o=[];if(s){for(let t=0;t<n.length;t++){const e=n[t];s.indexOf(e)<0?(s.push(e),o.push(i[t])):M.dd(q,"filter repeat msgid:"+e)}this.mMsgChache[this.mUserInfo.regid]=s}else this.mMsgChache[this.mUserInfo.regid]=n,o=i;return o}send(t,e){M.dd(q,`---\x3e- cmd:${t}, data:${JSON.stringify(e)}`),this.mConnectionController.sendMessage(JSON.stringify(e))}updateUserInfo(t){this.mUserInfo=t}stop(){this.mConnectionController&&this.mConnectionController.disconnect()}reConnect(){this.mConnectionController&&this.mConnectionController.reConnect()}}class J{constructor(t){this.mChannel=t,this.mTimes=1}setCmd(t){return this.mCmd=t,this}setData(t){return this.mData=t,this}onSuccess(t){return"function"==typeof t&&(this.success=t),this}onFail(t){return"function"==typeof t&&(this.fail=t),this}onTimeout(t){if("function"==typeof t){this.timeout=t;const e=this;this.respTimeoutTaskId=setTimeout((function(){e.respTimeoutTask()}),O.REQUEST.WS_RESP_TIMEOUT)}return this}addHook(t){return"function"==typeof t&&(this.hook=t),this}respTimeoutTask(){if(this.mTimes<O.REQUEST.WS_RETRY_TIMES){this.mChannel.send(this.mCmd,this.mData),this.mTimes++;const t=this;this.respTimeoutTaskId=setTimeout((function(){t.respTimeoutTask()}),O.REQUEST.WS_RESP_TIMEOUT)}else this.timeout&&this.timeout({rid:this.mRid,data:this.mData,response_timeout:!0}),delete this.mChannel.mDataCache[this.mRid];return this}cleanRespTimeout(){return this.respTimeoutTaskId&&clearTimeout(this.respTimeoutTaskId),this}send(){if(this.mCmd&&this.mData)return this.mRid=this.mData.sid+2+"",this.mChannel.send(this.mCmd,this.mData),this.mChannel.mDataCache[this.mRid]=this,this;M.d("MsgBuilder","send fail，event and data can not empty")}}const $="MTpushInterface.mtPush";class X{constructor(){this.mInitStatu=X.INIT_FAIL,this.mAutoDiscon=!0,this.mIsNeedInit=!1}init(t,e){if(M.setDebugMode(t.debugMode||!1),this.mInitStatu==X.INIT_ING)return void e.onFail(F(U.INITING));const i=t.auth,n=i.is_temporary;!i||D(i.appkey)||D(i.random_str)||D(i.signature)||D(i.user_str)||D(n)||"t"!==n&&"n"!==n||!i.timestamp||"number"!=typeof i.timestamp?e.onFail(F(U.CONFIG_INVALID)):(t.is_temporary=n,R()?(M.dd($,"action:init - sdkVersion:"+O.SDK_VERSION),this.mInitCallback=e,t.sdkVersion=O.SDK_VERSION,this.mInitConfig=t,this.mChannel||(this.mChannel=new K,this.mChannel.onevent=this._addEventListen.bind(this)),this.mInitStatu==X.INIT_SUCC?(this.mIsNeedInit=!0,this.stopPush()):(this.mChannel.init(this.mInitConfig),this.mAutoDiscon=!0),this.mInitStatu=X.INIT_ING):e.onFail(F(U.NETWORK_ERROR)))}_init(){const t=this;new J(this.mChannel).setCmd(O.CMD.INIT).setData(new G(this.mInitConfig).setCmd(O.CMD.INIT).build()).onSuccess((function(e){t.mInitStatu=X.INIT_SUCC,t.mUserInfo=e,t.mInitConfig.getInitInfo&&t.mInitConfig.getInitInfo(e),t.mChannel.updateUserInfo(t.mUserInfo),t.mInitCallback&&(t.mInitCallback.onSuccess(F(B)),t.mInitCallback=void 0),t._startHeartBeat()})).onFail((function(e){t._initFail(F(U.INIT_FAILED,e))})).onTimeout((function(){t._initFail(F(U.INIT_TIME_OUT))})).send()}_initFail(t){this.stopPush(),this.mInitCallback?(M.ww($,"init fail:"+JSON.stringify(t)),this.mInitCallback.onFail(t),this.mInitCallback=void 0):this.mDisconnetFn&&(M.ww($,"invalid reconnect,close"),this.mDisconnetFn())}onMsgReceive(t){this.mMsgReceiveFn=t}onDisconnect(t){this.mDisconnetFn=t}getRegistrationID(){return this.mUserInfo?this.mUserInfo.regid:""}stopPush(){this.mAutoDiscon=!1,G.sid=0,this._stopHearBeat(),this.mChannel&&this.mChannel.stop(),this.mInitStatu=X.INIT_FAIL,this.mUserInfo=null}_addEventListen(t){if(t){if(M.d($,"event:"+t.name),t.name==O.EVENT.NOT_SUPPORT)return this._initFail(F(P,"do not support websocket")),void(this.mInitStatu=X.INIT_FAIL);if(t.name!=O.EVENT.OPEN){if(t.name==O.EVENT.DISCONNECT){if(G.sid=0,this._stopHearBeat(),this.mIsNeedInit&&!this.mAutoDiscon)return M.dd($,"reinit."),this.mChannel.init(this.mInitConfig),this.mIsNeedInit=!1,void(this.mAutoDiscon=!0);if(!this.mUserInfo&&this.mAutoDiscon)return void this._initFail(F(U.NETWORK_ERROR))}if(t.name==O.EVENT.MESSAGE){if(t.data.cmd==O.CMD.PUSH){const e=t.data.body;if(this.mMsgReceiveFn)return void this.mMsgReceiveFn({messages:e})}}}else this._init()}}_startHeartBeat(){this.mHeartTimeOut&&clearTimeout(this.mHeartTimeOut),this.mHeartTimeOut=setTimeout((()=>{this._heartBeat()}),O.REQUEST.WS_HEART_BEAT)}_heartBeat(){const t=this;new J(this.mChannel).setCmd(O.CMD.HEART_BEAT).setData(new G(this.mInitConfig).setCmd(O.CMD.HEART_BEAT).setUserInfo(this.mUserInfo).build()).onSuccess((function(){t._startHeartBeat()})).onFail((function(){t._reconnect()})).onTimeout((function(){t._reconnect()})).send()}_reconnect(){M.ww($,"wrong heartbeat,try reconnect"),this._stopHearBeat(),this.mChannel.reConnect()}_stopHearBeat(){this.mHeartTimeOut&&(clearTimeout(this.mHeartTimeOut),this.mHeartTimeOut=void 0)}_resetHeartBeat(){this.mHeartTimeOut&&(clearTimeout(this.mHeartTimeOut),this._startHeartBeat())}}X.INIT_SUCC="INITSUCC",X.INIT_ING="INITING",X.INIT_FAIL="INITFAIL";const Q=new X,Z={init:function(t){try{Q.init(t,new W(t))}catch(e){M.ww($,"init fail："+e),t.fail(F(P))}},onMsgReceive:function(t){"function"==typeof t&&(M.dd($,"set onMsgReceive"),Q.onMsgReceive(t))},onDisconnect:function(t){"function"==typeof t&&(M.dd($,"set onDisconnect"),Q.onDisconnect(t))},stopPush:function(){M.dd($,"stopPush"),Q.stopPush()},getRegistrationID(){const t=Q.getRegistrationID();return M.dd($,"getRegistrationID:"+t),t},mtpush:Q};function Y(t){return t?` style="color:${t};"`:""}const tt={position:"left",title:"",titleColor:"",text:"",textColor:"",confirm:"",confirmColor:"",confirmBgc:"",cancel:"",cancelColor:"",src:""};function et(t,e=(()=>{}),i=(()=>{})){const n=Object.assign(tt,t);n.position={left:"left:0",center:"left:50%;transform:translate(-50%,0)",right:"right:0"}[t.position]||"left:0";let s=(n.confirmColor?`color:${n.confirmColor};`:"")+(n.confirmBgc?`background-color:${n.confirmBgc};`:"");s=s?` style="${s}"`:"";const o=`<img src="${n.src||"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAh1BMVEUAAAAsa/8sbP9FXP8lYf8sa/8sa/8ra/8sa/8ra/8sa/8sa/8sa/8sa/8sa/8sa/8rZf8sa/8sa/8sa/8sa/8sa/8sbP8ra/8sa/8sa/8oav8sa/8maP8sa/8rbP8sa/8sa/8sa/8oaP8rbP8sa/8ra/8ra/8ta/8sav8mav8sa/8ra/8taf/cU0AXAAAALXRSTlMA1tMCBMzQPsgzF76Zc25nCrqsW7e0jnpgTB8cDcXBr4BWEKeiY0Y5KhNqUiIjzI9vAAABjUlEQVRIx+2VW3OCMBCFOZAAIje5iYqKeNf+/9/X3RpKsZlOpn3qjN+D2dnk5OSsD1haJqGU4cUyZmGDsE+m5zsfH/iNoeAOFKvlDFgYChIgsqw5cDSN0Dv8GCKo/ESVZygmvaVfBc/nTxR0zYXIS3yy3QnurWnPG5/PeZA3vr3EiJJdbjzkxdOrUdCWk7BwOvcCIQKv3fDBmv/IKRVfPJYucOChtwA29AyF2LFkTtU1A+SQI6TXprTGAEIqBhraAg+jK4Cq717I70Krx9c543BOq6Y1oce+qWb0EKdTup/PjxXkMWPXCohVLwM40JHi0s4zzRrIH/6ZakmA8ggyuFsacrIg4wCQqmPDpYZHBo5OIDYAj9yF3WeQMf/yALW0j9fHMhq198BZLyDvg6ZNEa56wQooNG0XcPSCFPC/dx2oTPqtl+AlMBFELoxwYyWQMMT/ncPfWdaroTBhhnIoTJBAymvHKU3IgFp96g5Gghpwj02XuMDOSCC2UGTCMiJQiuxqGSLyvZT7XFj/g3cZFxJZ+tXnmgAAAABJRU5ErkJggg=="}"/>\n  <h3${Y(n.titleColor)}>${n.title}</h3>\n  <p class="notic-user-tip-data"${Y(n.textColor)}>${n.text}</p>\n  <div class="button-warp">\n    <span class="web-push-tip-cancel" ${Y(n.cancelColor)}>${n.cancel}</span><span class="confirm" ${s}>${n.confirm}</span>\n  </div>`;!function(t){const e=document.createElement("style");e.appendChild(document.createTextNode(t)),document.getElementsByTagName("head")[0].appendChild(e)}(".notic-user-tip-warp {\n  width: 378px;\n  min-height: 134px;\n  background: #ffffff;\n  box-shadow: 0px 24px 24px -6px rgba(37, 48, 68, 0.14), 0px 2px 6px 0px rgba(37, 48, 68, 0.12);\n  border-radius: 4px;\n  position: absolute;\n  padding: 20px 20px 20px 72px;\n  top: 0;\n}\n.notic-user-tip-warp.notic-user-tip-warp-hide{display:none}\n.notic-user-tip-warp > img {\n  position: absolute;\n  width: 40px;\n  left: 16px;\n  top: 20px;\n}\n.notic-user-tip-warp > h3 {\n  font-size: 14px;\n  color: #000;\n  line-height: 18px;\n  padding-bottom: 2px;\n  font-weight: bolder;\n}\n.notic-user-tip-warp > .notic-user-tip-data {\n  font-size: 14px;\n  line-height: 22px;\n  color: #666;\n  min-height: 44px;\n  overflow: hidden;\n  padding-bottom: 16px;\n  word-spacing: pre-wrap;\n}\n.notic-user-tip-warp > .button-warp {\n  text-align: right;\n}\n.notic-user-tip-warp > .button-warp > span {\n  display: inline-block;\n  height: 32px;\n  line-height: 32px;\n  border-radius: 3px;\n  padding: 0 16px;\n  margin-left: 8px;\n  color: #cccccc;\n  cursor: pointer;\n}\n.notic-user-tip-warp > .button-warp > .confirm {\n  color: #fff;\n  background: #2c6bff;\n}");const r=document.createElement("div");function a(t=!1){t?r.classList.add("notic-user-tip-warp-hide"):r.classList.remove("notic-user-tip-warp-hide")}return r.className="notic-user-tip-warp notic-user-tip-warp-hide",r.style.cssText=n.position,r.innerHTML=o,document.body.appendChild(r),r.addEventListener("click",(t=>{const n=t.target.classList;n.contains("confirm")&&(e(),a(!0)),n.contains("web-push-tip-cancel")&&(i(),a(!0))})),a}const it=["active_launch","active_terminate"];function nt(t){const e=Number(localStorage.getItem(t)||"0");return isNaN(e)?0:e}function st(t,e="",i=!1){var n,s,o,r;if(mt.data&&mt.userOption){const a=mt;let c=!1;if(t.forEach((t=>{const e=(new Date).getTime()/1e3|0;t.type&&it.includes(t.type)&&(e-nt(t.type)<30&&(c=!0),localStorage.setItem(t.type,e.toString())),t.itime=e,t.msg_id&&(t.msg_id=t.msg_id.toString())})),c)return;const u={platform:"b",uid:null===(n=a.data)||void 0===n?void 0:n.uid,app_key:null===(s=a.userOption)||void 0===s?void 0:s.appkey,channel:e,content:t},d="Basic "+btoa((null===(o=a.data)||void 0===o?void 0:o.uid)+":"+(null===(r=a.data)||void 0===r?void 0:r.passwd));return i?{data:u,Authorization:d}:C.post("https://webpushstat.api.engagelab.cc/v4/web/report",u,{headers:{Authorization:d}})}}function ot(t){return(new Date).getTime()/1e3-nt(t)|0}var rt=i(238),at=i.n(rt);const ct="BCWYct994EyWepYA2QdTQrTz81NBfq5wOGJeqa_M4B-uLIaH5nOky58qfwLK0ou7XSDYjJDQGxAuPxRBM4KxPz4";function ut(){t(((t,e)=>{function i(t,i){1===t&&function(t,e=(()=>{})){t.pushManager?t.pushManager.getSubscription().then((i=>{i||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:f(ct)}).then((()=>{e(!0)})).catch((t=>{}))})).catch((t=>{e(!1,t)})):e(!1)}(e,(t=>{let e=-6,i="消息订阅失败！";t&&(e=0,i="消息订阅成功！")}))}t&&_t(((t,e)=>{var n;1===t?i(t):3===t&&(null===(n=Notification.requestPermission())||void 0===n||n.then((function(t){"granted"===t&&i(1)})))}))}))}const dt={mtPush:{code:0,msg:""},webPush:{code:0,msg:""}};function ht(){return dt.mtPush={INITSUCC:{code:1,msg:"极光推送通道初始化成功！"},INIT_ING:{code:-1,msg:"极光推送通道初始化中，请稍后再试！"},INIT_FAIL:{code:0,msg:"极光推送通道初始化失败或已停止！"}}[Z.mtpush.mInitStatu]||{code:0,msg:""},JSON.parse(JSON.stringify(dt))}function lt(t,e=(()=>{})){const i=t.visit||0,n=t.delay||0,s=Number(window.localStorage.getItem("subscriptionVisit")||0);s>i-1?n>0?setTimeout(e,1e3*n):e():window.localStorage.setItem("subscriptionVisit",(s+1).toString())}function ft(e=(()=>{}),i,n){function s(t,i,n){t<1&&(t=0,i="web推通知不可用"),dt.webPush.code=t,dt.webPush.msg=i,e(t,i,n)}t(((t,e)=>{function o(t,n){1===t?function(t,e,i,n=(()=>{}),s=!1,o={title:"我是测试"}){var r;let a=!1;if("safari"in window&&"pushNotification"in window.safari){a=!0;const t=N();t.data.deviceToken&&T(x.safariSubscribe,{appkey:null===(r=mt.userOption)||void 0===r?void 0:r.appkey,device_token:t.data.deviceToken})}t.pushManager?t.pushManager.getSubscription().then((r=>{r?(n(!0),s&&T(i,{pushInfo:{endpoint:r.endpoint,keys:{p256dh:p(r.getKey("p256dh")),auth:p(r.getKey("auth"))}},pushData:o}),A(i,r)):t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:f(e)}).then((t=>{n(!0),A(i,t)})).catch((t=>{}))})).catch((t=>{n(!1,t)})):n(a)}(e,i.VAPIDPublicKey,x.subscribeSuccess,(e=>{let i=-6,o="消息订阅失败！";e&&(i=0,o="消息订阅成功！"),s(t+i,n+o)})):s(t,n)}function r(){!function(t=wt){var e;let i="web.cn.jiguang";const n=mt.userOption,s=((null==n?void 0:n.safari_url)||"https://conn.webpush.theengagelab.com")+"/webpush";function o(){const t=N(),e=t.data;i=t.id,r(e)}function r(e){var n,a;"default"===e.permission?(st([{type:"ntf_status",result:0,manufacturer:bt.browser.name,lang:navigator.language}]),window.safari.pushNotification.requestPermission(s,i,{appkey:null===(n=mt.userOption)||void 0===n?void 0:n.appkey,uid:null===(a=mt.data)||void 0===a?void 0:a.uid.toString(),origin:location.origin},r)):(document.body.removeEventListener("click",o),vt(e.permission,t),"denied"===e.permission?st([{type:"ntf_status",result:2,manufacturer:bt.browser.name,lang:navigator.language}]):st([{type:"ntf_status",result:1,manufacturer:bt.browser.name,lang:navigator.language}]))}if("safari"in window&&"pushNotification"in window.safari)try{o()}catch(t){document.body.addEventListener("click",o)}else st([{type:"ntf_status",result:0,manufacturer:bt.browser.name,lang:navigator.language}]),null===(e=Notification.requestPermission())||void 0===e||e.then((function(e){vt(e,t),"denied"===e?(st([{type:"ntf_status",result:2,manufacturer:bt.browser.name,lang:navigator.language}]),T(x.unsubscribe)):st([{type:"ntf_status",result:1,manufacturer:bt.browser.name,lang:navigator.language}])}))}(((t,e)=>{o(t,e)}))}t?_t(((t,e)=>{3!==t&&setTimeout((()=>{st([{type:"ntf_status",result:t,manufacturer:gt.browser.name,lang:navigator.language}])}),2e3),1===t?o(t,e):3===t?T(x.option,{appkey:n.appkey}).then((t=>{const e=t.subscribe_config||{};if(2===t.subscribe_type){const t=et(e,r);lt(e,(()=>{t()}))}else 3===t.subscribe_type?n.custom?n.custom(r):r():lt(e,r)})):s(t,e)})):s(-2,"ServiceWorker registration failed",e)}),i.swUrl)}function pt(){}const mt={data:null,userOption:null},gt=at()(navigator.userAgent);const bt=at()(navigator.userAgent),wt=(t,e)=>{};function vt(t,e=wt){switch(t){case"granted":e(1,"Notification 可用");break;case"denied":e(2,"Notification 权限已被禁用");break;default:e(3,"Notification 权限还没有确认")}}function _t(t=wt){if("undefined"==typeof Notification)return void t(0,"浏览器不支持 Notification API");vt(Notification.permission,t)}function yt(t,e,i={}){var n;"Notification"in window&&"granted"===Notification.permission&&(null===(n=navigator.serviceWorker)||void 0===n||n.getRegistration().then((function(n){if(null==n?void 0:n.showNotification)null==n||n.showNotification(t,e),i&&i.msg_id&&st([{type:"msg_status",msg_id:i.msg_id,result:3018}],"MTPush");else{const n=new Notification(t,e);i&&i.msg_id&&st([{type:"msg_status",msg_id:i.msg_id,result:3018}],"MTPush"),n.addEventListener("click",(()=>{i&&i.msg_id&&st([{type:"msg_status",msg_id:i.msg_id,result:3002}],"MTPush");const t=i.url||(null==i?void 0:i.engagelab_url);t&&window.open(t)}))}})))}window.addEventListener("unload",(()=>{if(ot("active_launch")>0){const t=st([{type:"active_terminate",duration:ot("active_launch")}],"",!0);t&&m(9999,t)}}));let Ct=()=>{};function St(t,e){"function"==typeof Ct&&Ct({data:t,type:e})}let kt=0;!function t(){setTimeout((()=>{kt<20&&(kt++,navigator.serviceWorker&&(kt=100,navigator.serviceWorker.addEventListener("message",(t=>{var e;t.data.data.engagelab_uid===(null===(e=mt.data)||void 0===e?void 0:e.uid)&&St(t.data,1)}))),t())}),1e3)}(),Z.onMsgReceive((t=>{if(St(t,0),t.messages&&t.messages.length>0){const e=[];t.messages.forEach((t=>{var i;e.push({type:"msg_status",msg_id:t.msg_id,result:3001}),!(i=t.ntf_or_msg)||1!==i&&3!==i||yt(t.title,function(t){var e,i,n;const s={engagelab_appkey:null===(e=mt.userOption)||void 0===e?void 0:e.appkey,engagelab_passwd:null===(i=mt.data)||void 0===i?void 0:i.passwd,engagelab_uid:null===(n=mt.data)||void 0===n?void 0:n.uid,engagelab_mesg_type:"MTPush"},o=Object.assign({},t),r=["content","extras","msg_id","ntf_or_msg","st_web_buttons"];if(void 0!==t.content){if(o.body=t.content,o.tag=t.msg_id,o.data=Object.assign({engagelab_ntf_or_msg:t.ntf_or_msg},s),t.url&&(o.data.engagelab_url=t.url),t.st_web_buttons){const e={},i=[];t.st_web_buttons.forEach((t=>{e[t.id]=t.url;const n={action:t.id,title:t.text};t.icon&&(n.icon=t.icon),i.push(n)})),o.actions=i,o.data.engagelab_action_urls=e}r.forEach((t=>{delete o[t]}))}return o}(t),t)})),st(e,"MTPush")}}));const It={customClickReport(t,e="MTPush"){st([{type:"msg_status",msg_id:t,result:3028}],e="W3Push"!==e?"MTPush":e)},init:function(t){if(t.localTest)return ut(),!1;1===ht().mtPush.code&&mt.data&&n(mt.data);const e="https://conn.webpush.theengagelab.com";mt.userOption=t;const i=t.is_temporary||"n";function n(e){k(e.uid.toString(),e.passwd),mt.data=e;const i=(new Date).getTimezoneOffset()/-60|0;st([{type:"oversea_info",time_zone:i>0?"+"+i:i.toString(),lang:navigator.language,contry:"",os:gt.os.name,os_version:gt.os.version,web_channel:gt.browser.name,web_channel_version:gt.browser.version}]),st([{type:"active_launch"}]),t.canGetInfo&&t.canGetInfo(e),"t"!==t.is_temporary&&function(t,e){ft(e.webPushcallback,{VAPIDPublicKey:t.vapid_pubkey,swUrl:e.swUrl},e)}(e,t)}(function(t,e,i,n="n"){return C.get(t,{user_str:e,appkey:i,is_temporary:n})})(x.auth,t.user_str,t.appkey,i).then((s=>{const o=e.split("//");let r="https:"===o[0]?"wss://":"ws://";r+=o[1];let a=!1;Z.init({webSocketUrl:t.webSocketUrl||r,auth:Object.assign(Object.assign({},s),{is_temporary:i}),success:t.success||pt,fail:t.fail||pt,getInitInfo(t){a||(n(t),a=!0)}})}))},getPushAuthority:ht,getRegistrationID:Z.getRegistrationID,getWebPermission:()=>Notification.permission,mtPush:Z,onMsgReceive:t=>{Ct=t},webPush:{displayNotification:yt,permission:_t,init:ft},setTagsAlias(t){function e(t,e){if(t)throw new Error(e)}if(mt.userOption){const i=mt.userOption;e(!t.tags,"缺少tags属性"),e(!t.alias,"缺少alias属性"),e(!!(t.alias&&t.alias.length>40),"alias最多40个字符"),e(t.alias.length>1e3,"alias一次最多设置1000个"),t.tags.forEach((t=>{e(t.length>40,"tag最多40个字符")})),T(x.tagalias,Object.assign({temporary:"t"===i.is_temporary,appkey:i.appkey},t))}},unSubscribe:()=>T(x.unsubscribe)},Tt={},Et=["webpush_safari_url","msg_id","engagelab_uid","engagelab_appkey","engagelab_passwd"];let xt=0;location.search.slice(1).split("&").forEach((t=>{const e=t.split("=");Et.forEach((t=>{2===e.length&&t===e[0]&&(xt+=1,Tt[t]=e[1])}))})),xt===Et.length&&(m(6666,Object.assign({},Tt)),window.location.href=Tt.webpush_safari_url);const Nt=It})(),n=n.default})()));